{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andrei/Desktop/diplom-project/movies-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/andrei/Desktop/diplom-project/movies-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/andrei/Desktop/diplom-project/movies-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import*as React from'react';import Backdrop from'@mui/material/Backdrop';import Box from'@mui/material/Box';import Modal from'@mui/material/Modal';import Fade from'@mui/material/Fade';import Button from'@mui/material/Button';import styled from'./TransitionsModal.module.css';import{useEffect,useState}from\"react\";import unavailable from\"../../assets/unavailable.jpeg\";import unavailableLandscape from\"../../assets/unavailableLandscape.jpeg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var style={position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)'};export var TransitionsModal=function TransitionsModal(_ref){var children=_ref.children,media_type=_ref.media_type,id=_ref.id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),video=_useState6[0],setVideo=_useState6[1];var handleOpen=function handleOpen(){return setOpen(true);};var handleClose=function handleClose(){return setOpen(false);};var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.themoviedb.org/3/\".concat(media_type,\"/\").concat(id,\"?api_key=\").concat(process.env.REACT_APP_API_KEY,\"&language=en-US\"));case 2:response=_context.sent;if(!response.ok){_context.next=11;break;}_context.next=6;return response.json();case 6:data=_context.sent;console.log(data);setContent(data);_context.next=12;break;case 11:alert(\"error\"+response.status);case 12:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();var fetchVideo=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,_data$results$,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://api.themoviedb.org/3/\".concat(media_type,\"/\").concat(id,\"/videos?api_key=\").concat(process.env.REACT_APP_API_KEY,\"&language=en-US\"));case 2:response=_context2.sent;if(!response.ok){_context2.next=11;break;}_context2.next=6;return response.json();case 6:data=_context2.sent;console.log(data);setVideo((_data$results$=data.results[0])===null||_data$results$===void 0?void 0:_data$results$.key);_context2.next=12;break;case 11:alert(\"error\"+response.status);case 12:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchVideo(){return _ref3.apply(this,arguments);};}();useEffect(function(){fetchData();fetchVideo();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{onClick:handleOpen,className:styled.media,children:children}),/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",open:open,onClose:handleClose,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{in:open,children:/*#__PURE__*/_jsx(Box,{sx:style,children:content&&/*#__PURE__*/_jsx(\"div\",{className:styled.paper,children:/*#__PURE__*/_jsxs(\"div\",{className:styled.ContentModal,children:[/*#__PURE__*/_jsx(\"img\",{src:content.poster_path?\"https://image.tmdb.org/t/p/w500/\".concat(content.poster_path):unavailable,className:styled.ContentModal__portrait}),/*#__PURE__*/_jsx(\"img\",{src:content.backdrop_path?\"https://image.tmdb.org/t/p/w500/\".concat(content.backdrop_path):unavailableLandscape,className:styled.ContentModal__landscape}),/*#__PURE__*/_jsxs(\"div\",{className:styled.ContentModal__about,children:[/*#__PURE__*/_jsxs(\"span\",{className:styled.ContentModal__title,children:[content.title||content.name,\" \",\" \",content.release_date]}),/*#__PURE__*/_jsx(\"span\",{className:styled.ContentModal__description,children:content.overview}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",target:\"__blank\",href:\"https://www.youtube.com/watch?v=\".concat(video),children:\"Watch the Trailer\"})]})]})})})})})]});};","map":{"version":3,"sources":["/Users/andrei/Desktop/diplom-project/movies-app/src/Components/Modal/TransitionsModal.jsx"],"names":["React","Backdrop","Box","Modal","Fade","Button","styled","useEffect","useState","unavailable","unavailableLandscape","style","position","top","left","transform","TransitionsModal","children","media_type","id","open","setOpen","content","setContent","video","setVideo","handleOpen","handleClose","fetchData","fetch","process","env","REACT_APP_API_KEY","response","ok","json","data","console","log","alert","status","fetchVideo","results","key","media","timeout","paper","ContentModal","poster_path","ContentModal__portrait","backdrop_path","ContentModal__landscape","ContentModal__about","ContentModal__title","title","name","release_date","ContentModal__description","overview"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Backdrop from '@mui/material/Backdrop';\nimport Box from '@mui/material/Box';\nimport Modal from '@mui/material/Modal';\nimport Fade from '@mui/material/Fade';\nimport Button from '@mui/material/Button';\nimport styled from './TransitionsModal.module.css';\nimport {useEffect, useState} from \"react\";\nimport unavailable from \"../../assets/unavailable.jpeg\";\nimport unavailableLandscape from \"../../assets/unavailableLandscape.jpeg\";\n\nconst style = {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n};\n\nexport const TransitionsModal = ({children, media_type, id}) => {\n    const [open, setOpen] = useState(false);\n    const [content, setContent] = useState();\n    const [video, setVideo] = useState();\n    const handleOpen = () => setOpen(true);\n    const handleClose = () => setOpen(false);\n\n    const fetchData = async () => {\n        const response = await fetch(  `https://api.themoviedb.org/3/${media_type}/${id}?api_key=${process.env.REACT_APP_API_KEY}&language=en-US`);\n        if (response.ok) {\n            const data = await response.json();\n            console.log(data);\n            setContent(data);\n        } else {\n            alert(\"error\" + response.status);\n        }\n    }\n\n    const fetchVideo = async () => {\n        const response = await fetch(  `https://api.themoviedb.org/3/${media_type}/${id}/videos?api_key=${process.env.REACT_APP_API_KEY}&language=en-US`);\n        if (response.ok) {\n            const data = await response.json();\n            console.log(data);\n            setVideo(data.results[0]?.key);\n        } else {\n            alert(\"error\" + response.status);\n        }\n    }\n\n    useEffect(() => {\n        fetchData();\n        fetchVideo();\n    }, []);\n\n    return (\n        <div>\n            <div onClick={handleOpen} className={styled.media}>{children}</div>\n            <Modal\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                open={open}\n                onClose={handleClose}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{\n                    timeout: 500,\n                }}\n            >\n                <Fade in={open}>\n                    <Box sx={style}>\n                        {content && (\n                            <div className={styled.paper}>\n                                <div className={styled.ContentModal}>\n                                    <img\n                                        src={\n                                            content.poster_path\n                                                ? `https://image.tmdb.org/t/p/w500/${content.poster_path}`\n                                                : unavailable\n                                        }\n                                        className={styled.ContentModal__portrait}\n                                    />\n                                    <img\n                                        src={\n                                            content.backdrop_path\n                                                ? `https://image.tmdb.org/t/p/w500/${content.backdrop_path}`\n                                                : unavailableLandscape\n                                        }\n                                        className={styled.ContentModal__landscape}\n                                    />\n                                    <div className={styled.ContentModal__about}>\n                  <span className={styled.ContentModal__title}>\n                      {content.title || content.name} {\" \"}\n                      {content.release_date}\n                  </span>\n                                        <span className={styled.ContentModal__description}>\n                    {content.overview}\n\n                  </span>\n\n                                        <Button\n                                            variant=\"contained\"\n                                            color=\"secondary\"\n                                            target=\"__blank\"\n                                            href={`https://www.youtube.com/watch?v=${video}`}\n                                        >\n                                            Watch the Trailer\n                                        </Button>\n                                    </div>\n                                </div>\n                            </div>\n                        )}\n                    </Box>\n                </Fade>\n            </Modal>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}