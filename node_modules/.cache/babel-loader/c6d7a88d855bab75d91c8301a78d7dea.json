{"ast":null,"code":"var _jsxFileName = \"/Users/andrei/Desktop/diplom-project/movies-app/src/Pages/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { Avatar, Box, Button, Container, CssBaseline, Grid, Input, Typography } from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport { Dialog, DialogContent, DialogContentText, DialogTitle, TextField } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = ({\n  setUser\n}) => {\n  _s();\n\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleInputLog = e => {\n    setLogin(e.target.value);\n  };\n\n  const handleInputPass = e => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const response = await fetch(`http://localhost:3000/users/?login=${login}&password=${password}`);\n    const users = await response.json();\n\n    if (users.length > 0) {\n      setUser(users[0]);\n      setLogin(\"\");\n      setPassword(\"\");\n    }\n  };\n\n  const handleclickOpen = () => {};\n\n  const handleClose = () => {};\n\n  const getNewUser = async () => {\n    await fetch(\"http://localhost:3000/users\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        login,\n        password\n      })\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        marginTop: 8,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        sx: {\n          m: 1,\n          bgcolor: \"secondary.main\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        children: \"Login in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        noValidate: true,\n        sx: {\n          mt: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          value: login,\n          autoFocus: true,\n          onChange: handleInputLog,\n          placeholder: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          placeholder: \"Password\",\n          type: \"password\",\n          value: password,\n          onChange: handleInputPass\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleSubmit,\n          sx: {\n            mt: 3,\n            mb: 2\n          },\n          children: \"Login In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleclickOpen,\n          fullWidth: true,\n          variant: \"contained\",\n          sx: {\n            mt: 3,\n            mb: 2\n          },\n          children: \"New User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n          open: () => {},\n          onClose: handleClose,\n          \"aria-labelledby\": \"form-dialog-title\",\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            id: \"form-dialog-title\",\n            children: \"Registration Form\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n              children: \"Registration in users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              autoFocus: true,\n              margin: \"dense\",\n              id: \"name\",\n              label: \"Login\",\n              type: \"email\",\n              fullWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              autoFocus: true,\n              margin: \"dense\",\n              id: \"pas\",\n              label: \"Password\",\n              type: \"password\",\n              fullWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Login, \"oj4IVc1nxxF/GhK97+UTra4rMOg=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/andrei/Desktop/diplom-project/movies-app/src/Pages/Login.jsx"],"names":["Avatar","Box","Button","Container","CssBaseline","Grid","Input","Typography","useState","Dialog","DialogContent","DialogContentText","DialogTitle","TextField","Login","setUser","login","setLogin","password","setPassword","handleInputLog","e","target","value","handleInputPass","handleSubmit","preventDefault","response","fetch","users","json","length","handleclickOpen","handleClose","getNewUser","method","headers","body","JSON","stringify","marginTop","display","flexDirection","alignItems","m","bgcolor","mt","mb"],"mappings":"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","sourcesContent":["import {\n    Avatar,\n    Box,\n    Button,\n    Container,\n    CssBaseline,\n    Grid,\n    Input,\n    Typography,\n} from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport {Dialog, DialogContent, DialogContentText, DialogTitle, TextField} from \"@mui/material\";\n\nexport const Login = ({ setUser }) => {\n    const [login, setLogin] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const handleInputLog = (e) => {\n        setLogin(e.target.value);\n    };\n\n    const handleInputPass = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const response = await fetch(\n            `http://localhost:3000/users/?login=${login}&password=${password}`\n        );\n        const users = await response.json();\n        if (users.length > 0) {\n            setUser(users[0]);\n            setLogin(\"\");\n            setPassword(\"\");\n        }\n    };\n\n    const handleclickOpen = () => {\n\n    };\n\n    const handleClose = () => {\n\n    }\n\n    const getNewUser = async () => {\n        await fetch(\"http://localhost:3000/users\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ login, password }),\n        });\n    };\n\n    return (\n            <Container component=\"main\" maxWidth=\"xs\">\n                <CssBaseline />\n                <Box\n                    sx={{\n                        marginTop: 8,\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        alignItems: \"center\",\n                    }}\n                >\n                    <Avatar sx={{ m: 1, bgcolor: \"secondary.main\" }}></Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Login in\n                    </Typography>\n                    <Box component=\"form\" noValidate sx={{ mt: 1 }}>\n                        <Input\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            value={login}\n                            autoFocus\n                            onChange={handleInputLog}\n                            placeholder=\"Login\"\n                        />\n                        <Input\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            placeholder=\"Password\"\n                            type=\"password\"\n                            value={password}\n                            onChange={handleInputPass}\n                        />\n                        <Button\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={handleSubmit}\n                            sx={{ mt: 3, mb: 2 }}\n                        >\n                            Login In\n                        </Button>\n                        <Button\n                            onClick={handleclickOpen}\n                            fullWidth\n                            variant=\"contained\"\n                            sx={{ mt: 3, mb: 2 }}\n                        >\n                            New User\n                        </Button>\n                        <Dialog\n                            open={() => {}}\n                            onClose={handleClose}\n                            aria-labelledby=\"form-dialog-title\">\n                            <DialogTitle id=\"form-dialog-title\">Registration Form</DialogTitle>\n                            <DialogContent>\n                                <DialogContentText>\n                                    Registration in users\n                                </DialogContentText>\n                                <TextField\n                                    autoFocus\n                                    margin=\"dense\"\n                                    id=\"name\"\n                                    label=\"Login\"\n                                    type=\"email\"\n                                    fullWidth\n                                />\n                                <TextField\n                                    autoFocus\n                                    margin=\"dense\"\n                                    id=\"pas\"\n                                    label=\"Password\"\n                                    type=\"password\"\n                                    fullWidth\n                                />\n                            </DialogContent>\n                        </Dialog>\n                        <Grid container>\n                            <Grid item></Grid>\n                        </Grid>\n                    </Box>\n                </Box>\n            </Container>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}