{"ast":null,"code":"import _slicedToArray from\"/Users/andrei/Desktop/diplom-project/movies-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Route,Switch,useHistory}from\"react-router-dom\";import{Trending}from\"../Pages/Trending\";import{Movies}from\"../Pages/Movies\";import{Series}from\"../Pages/Series\";import{Search}from\"../Pages/Search\";import{Login}from\"../Pages/Login\";import{Header}from\"../Components/Header/Header\";import{LoginOut}from\"../Components/LoginOut/LoginOut\";import{listenToUserChange}from\"../firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var UseRouter=function UseRouter(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var history=useHistory();useEffect(function(){if(!user)history.push(\"/login\");if(user)history.push(\"/trending\");},[user]);useEffect(function(){listenToUserChange(setUser);},[]);if(user===null){return/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(Route,{path:\"/login\",children:/*#__PURE__*/_jsx(Login,{})})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/trending\",children:/*#__PURE__*/_jsx(Trending,{})}),/*#__PURE__*/_jsx(Route,{path:\"/movies\",children:/*#__PURE__*/_jsx(Movies,{})}),/*#__PURE__*/_jsx(Route,{path:\"/series\",children:/*#__PURE__*/_jsx(Series,{})}),/*#__PURE__*/_jsx(Route,{path:\"/search\",children:/*#__PURE__*/_jsx(Search,{})}),/*#__PURE__*/_jsx(Route,{path:\"/logout\",children:/*#__PURE__*/_jsx(LoginOut,{})})]})]});};","map":{"version":3,"sources":["/Users/andrei/Desktop/diplom-project/movies-app/src/route/UseRouter.jsx"],"names":["React","useEffect","useState","Route","Switch","useHistory","Trending","Movies","Series","Search","Login","Header","LoginOut","listenToUserChange","UseRouter","user","setUser","history","push"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,KAAR,CAAeC,MAAf,CAAuBC,UAAvB,KAAwC,kBAAxC,CACA,OAAQC,QAAR,KAAuB,mBAAvB,CACA,OAAQC,MAAR,KAAqB,iBAArB,CACA,OAAQC,MAAR,KAAqB,iBAArB,CACA,OAAQC,MAAR,KAAqB,iBAArB,CACA,OAAQC,KAAR,KAAoB,gBAApB,CACA,OAAQC,MAAR,KAAqB,6BAArB,CACA,OAAQC,QAAR,KAAuB,iCAAvB,CACA,OAAQC,kBAAR,KAAiC,kBAAjC,C,6IAGA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAC3B,cAAwBZ,QAAQ,CAAC,IAAD,CAAhC,wCAAOa,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,OAAO,CAAGZ,UAAU,EAA1B,CAEAJ,SAAS,CAAC,UAAM,CACZ,GAAI,CAACc,IAAL,CAAWE,OAAO,CAACC,IAAR,CAAa,QAAb,EACX,GAAIH,IAAJ,CAAUE,OAAO,CAACC,IAAR,CAAa,WAAb,EACb,CAHQ,CAGN,CAACH,IAAD,CAHM,CAAT,CAKAd,SAAS,CAAC,UAAI,CACVY,kBAAkB,CAACG,OAAD,CAAlB,CACH,CAFQ,CAEP,EAFO,CAAT,CAIA,GAAID,IAAI,GAAK,IAAb,CAAmB,CACf,mBACI,KAAC,MAAD,wBACI,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,uBACG,KAAC,KAAD,IADH,EADJ,EADJ,CAOH,CACD,mBACI,wCACI,KAAC,MAAD,IADJ,cAEI,MAAC,MAAD,yBACI,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,uBACI,KAAC,QAAD,IADJ,EADJ,cAII,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACI,KAAC,MAAD,IADJ,EAJJ,cAOI,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACI,KAAC,MAAD,IADJ,EAPJ,cAUI,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACI,KAAC,MAAD,IADJ,EAVJ,cAaI,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACI,KAAC,QAAD,IADJ,EAbJ,GAFJ,GADJ,CAsBH,CA5CM","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Route, Switch, useHistory} from \"react-router-dom\";\nimport {Trending} from \"../Pages/Trending\";\nimport {Movies} from \"../Pages/Movies\";\nimport {Series} from \"../Pages/Series\";\nimport {Search} from \"../Pages/Search\";\nimport {Login} from \"../Pages/Login\";\nimport {Header} from \"../Components/Header/Header\";\nimport {LoginOut} from \"../Components/LoginOut/LoginOut\";\nimport {listenToUserChange} from \"../firebase/auth\";\n\n\nexport const UseRouter = () => {\n    const [user, setUser] = useState(null);\n    const history = useHistory();\n\n    useEffect(() => {\n        if (!user) history.push(\"/login\");\n        if (user) history.push(\"/trending\");\n    }, [user]);\n\n    useEffect(()=>{\n        listenToUserChange(setUser);\n    },[]);\n\n    if (user === null) {\n        return (\n            <Switch>\n                <Route path='/login'>\n                   <Login/>\n                </Route>\n            </Switch>\n        );\n    }\n    return (\n        <>\n            <Header />\n            <Switch>\n                <Route path='/trending'>\n                    <Trending/>\n                </Route>\n                <Route path='/movies'>\n                    <Movies/>\n                </Route>\n                <Route path='/series'>\n                    <Series/>\n                </Route>\n                <Route path='/search'>\n                    <Search/>\n                </Route>\n                <Route path='/logout'>\n                    <LoginOut/>\n                </Route>\n            </Switch>\n        </>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}