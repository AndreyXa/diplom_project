{"ast":null,"code":"var _jsxFileName = \"/Users/andrei/Desktop/diplom-project/movies-app/src/Pages/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { Avatar, Box, Button, Container, CssBaseline, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Grid, Input, TextField, Typography } from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\";\nimport { createUser, listenToUserChange, signIn } from \"../firebase/auth\";\nimport { useUser } from \"../store/userContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = ({\n  setUser\n}) => {\n  _s();\n\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [open, setOpen] = useState(false);\n\n  const handleInputName = e => {\n    setName(e.target.value);\n  };\n\n  const handleInputLog = e => {\n    setLogin(e.target.value);\n  };\n\n  const handleInputPass = e => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    signIn(login, password); // const response = await fetch(\n    //     `http://localhost:3000/users/?login=${login}&password=${password}`\n    // );\n    // const users = await response.json();\n    // if (users.length > 0) {\n    //     setUser(users[0]);\n    //     setLogin(\"\");\n    //     setPassword(\"\");\n    // }\n  };\n\n  const handleclickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const getNewUser = async () => {\n    // await fetch(\"http://localhost:3000/users\", {\n    //     method: \"POST\",\n    //     headers: { \"Content-Type\": \"application/json\" },\n    //     body: JSON.stringify({ name, login, password }),\n    // });\n    // setOpen(false);\n    createUser(login, password);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        marginTop: 8,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        sx: {\n          m: 1,\n          bgcolor: \"secondary.main\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        children: \"Login in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        noValidate: true,\n        sx: {\n          mt: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          value: login,\n          autoFocus: true,\n          onChange: handleInputLog,\n          placeholder: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          placeholder: \"Password\",\n          type: \"password\",\n          value: password,\n          onChange: handleInputPass\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleSubmit,\n          sx: {\n            mt: 3,\n            mb: 2\n          },\n          children: \"Login In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: getNewUser,\n          fullWidth: true,\n          variant: \"contained\",\n          sx: {\n            mt: 3,\n            mb: 2\n          },\n          children: \"New User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n          open: open,\n          onClose: handleClose,\n          \"aria-labelledby\": \"form-dialog-title\",\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            id: \"form-dialog-title\",\n            children: \"Registration Form\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n              children: \"Registration in users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              autoFocus: true,\n              margin: \"dense\",\n              id: \"name\",\n              label: \"Name\",\n              type: \"text\",\n              fullWidth: true,\n              onChange: handleInputName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              autoFocus: true,\n              margin: \"dense\",\n              id: \"log\",\n              label: \"Login\",\n              type: \"email\",\n              fullWidth: true,\n              onChange: handleInputLog\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              autoFocus: true,\n              margin: \"dense\",\n              id: \"pas\",\n              label: \"Password\",\n              type: \"password\",\n              fullWidth: true,\n              onChange: handleInputPass\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleClose,\n              color: \"primary\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: getNewUser,\n              color: \"primary\",\n              children: \"Log in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Login, \"B1mkZCQQ5cQ/LUFx0YNBG63UY3U=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/andrei/Desktop/diplom-project/movies-app/src/Pages/Login.jsx"],"names":["Avatar","Box","Button","Container","CssBaseline","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Grid","Input","TextField","Typography","useEffect","useState","createUser","listenToUserChange","signIn","useUser","Login","setUser","login","setLogin","password","setPassword","name","setName","open","setOpen","handleInputName","e","target","value","handleInputLog","handleInputPass","handleSubmit","preventDefault","handleclickOpen","handleClose","getNewUser","marginTop","display","flexDirection","alignItems","m","bgcolor","mt","mb"],"mappings":"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","sourcesContent":["import {\n    Avatar,\n    Box,\n    Button,\n    Container,\n    CssBaseline, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle,\n    Grid,\n    Input, TextField,\n    Typography,\n} from \"@material-ui/core\";\nimport {useEffect, useState} from \"react\";\nimport {createUser, listenToUserChange, signIn} from \"../firebase/auth\";\nimport {useUser} from \"../store/userContext\";\n\nexport const Login = ({ setUser }) => {\n    const [login, setLogin] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [name, setName] = useState(\"\");\n    const [open, setOpen] = useState(false);\n\n    const handleInputName = (e) => {\n        setName(e.target.value);\n    };\n\n    const handleInputLog = (e) => {\n        setLogin(e.target.value);\n    };\n\n    const handleInputPass = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        signIn(login,password);\n        // const response = await fetch(\n        //     `http://localhost:3000/users/?login=${login}&password=${password}`\n        // );\n        // const users = await response.json();\n        // if (users.length > 0) {\n        //     setUser(users[0]);\n        //     setLogin(\"\");\n        //     setPassword(\"\");\n        // }\n    };\n\n    const handleclickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const getNewUser = async () => {\n        // await fetch(\"http://localhost:3000/users\", {\n        //     method: \"POST\",\n        //     headers: { \"Content-Type\": \"application/json\" },\n        //     body: JSON.stringify({ name, login, password }),\n        // });\n        // setOpen(false);\n        createUser(login,password);\n    };\n\n    return (\n            <Container component=\"main\" maxWidth=\"xs\">\n                <CssBaseline />\n                <Box\n                    sx={{\n                        marginTop: 8,\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        alignItems: \"center\",\n                    }}\n                >\n                    <Avatar sx={{ m: 1, bgcolor: \"secondary.main\" }}></Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Login in\n                    </Typography>\n                    <Box component=\"form\" noValidate sx={{ mt: 1 }}>\n                        <Input\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            value={login}\n                            autoFocus\n                            onChange={handleInputLog}\n                            placeholder=\"Login\"\n                        />\n                        <Input\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            placeholder=\"Password\"\n                            type=\"password\"\n                            value={password}\n                            onChange={handleInputPass}\n                        />\n                        <Button\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={handleSubmit}\n                            sx={{ mt: 3, mb: 2 }}\n                        >\n                            Login In\n                        </Button>\n                        <Button\n                            onClick={getNewUser}\n                            fullWidth\n                            variant=\"contained\"\n                            sx={{ mt: 3, mb: 2 }}\n                        >\n                            New User\n                        </Button>\n                        <Dialog\n                            open={open}\n                            onClose={handleClose}\n                            aria-labelledby=\"form-dialog-title\">\n                            <DialogTitle id=\"form-dialog-title\">Registration Form</DialogTitle>\n                            <DialogContent>\n                                <DialogContentText>\n                                    Registration in users\n                                </DialogContentText>\n                                <TextField\n                                    autoFocus\n                                    margin=\"dense\"\n                                    id=\"name\"\n                                    label=\"Name\"\n                                    type=\"text\"\n                                    fullWidth\n                                    onChange={handleInputName}\n                                /><TextField\n                                    autoFocus\n                                    margin=\"dense\"\n                                    id=\"log\"\n                                    label=\"Login\"\n                                    type=\"email\"\n                                    fullWidth\n                                    onChange={handleInputLog}\n                                />\n                                <TextField\n                                    autoFocus\n                                    margin=\"dense\"\n                                    id=\"pas\"\n                                    label=\"Password\"\n                                    type=\"password\"\n                                    fullWidth\n                                    onChange={handleInputPass}\n                                />\n                            </DialogContent>\n                            <DialogActions>\n                                <Button onClick={handleClose} color=\"primary\">Cancel</Button>\n                                <Button onClick={getNewUser} color=\"primary\">Log in</Button>\n                            </DialogActions>\n                        </Dialog>\n                        <Grid container>\n                            <Grid item></Grid>\n                        </Grid>\n                    </Box>\n                </Box>\n            </Container>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}